<div
  class="section account_page flex flex-col">
  <div
    class="flex justify-between">
    <h1
      class="text-[36px]">Hi {{ customer.first_name }}</h1>
    <a
      href="/account/logout/"
      class="logout text-[16px]">Logout</a>
  </div>
  <ul
    class="account_navigation">
    <li
      class="li_account active">
      <div
        class="icon icon_account"></div>
      <h3>ACCOUNT</h3>
    </li>
    <li
      class="li_orders">
      <div
        class="icon icon_orders"></div>
      <h3>ORDERS</h3>
    </li>
    <li
      class="li_addresses">
      <div
        class="icon icon_addresses"></div>
      <h3>ADDRESSES</h3>
    </li>
    <li
      class="li_wishlist">
      <div
        class="icon icon_wishlist"></div>
      <h3>WISHLIST</h3>
    </li>
  </ul>



  <div>
    <h2>Account</h2>
    <div
      class="bg-white rounded-[20px] flex flex-col p-6 border border-[#E6DFDB] m-auto max-w-[868px]">
      <h2>{{ customer.first_name }} {{ customer.last_name }}</h2>
      <h2>{{ customer.email }}</h2>
      <h2>Password length</h2>
      <h2
        class="recover_password_trigger">Reset password</h2>
      {% render "recover_password_form" %}
    </div>
  </div>



  <div
    class="flex flex-col bg-white md:bg-red-300">
    <h2>Orders</h2>
    {% paginate customer.orders by 10 %}
      {% for order in customer.orders %}
        Order Listed:
        <h2>Order: (Number) {{ order.order_number }}</h2>
        <h2>Created At: {{ order.created_at }}</h2>
        {% if order.cancelled %}
          <h2>Fulfillment Status: Cancelled</h2>
        {% else %}
          <h2>Fulfillment Status (Order cancelled?): {{ order.fulfillment_status_label }}</h2>
        {% endif %}
        <h2>Order (financial status): {{ order.financial_status_label }}</h2>
        <h2>Total: {{ order.line_items_subtotal_price }}</h2>
      {% endfor %}
      {{ paginate | default_pagination }}
    {% endpaginate %}
  </div>



  <div
    class="flex flex-col">
    <h2>Addresses</h2>
    Count: {{ customer.addresses_count }}
    {% if customer.addresses_count > 0 %}
      <div
        class="flex flex-col sm:flex-row max-w-[868px] bg-white rounded-[20px] border border-[#E6DFDB] p-[24px] m-x-auto">
        <div
          class="flex flex-col w-full">
          <h2
            class="text-[#56463D] text-[24px] mb-[8px]">Default address</h2>
          <h3
            class="text-[18px] mb-[4px]">{{ customer.default_address.name }}</h3>
          <h3
            class="text-[18px] mb-[8px] sm:mb-[0]">{{ customer.default_address.country }}</h3>
        </div>
        <div
          class="w-full flex sm:justify-end sm:items-start">
          <button
            class="edit_address_button underline">Edit</button>
          {% include 'address_form' %}
        </div>
      </div>
      {% for address in customer.addresses %}
        <div
          class="flex flex-col sm:flex-row max-w-[868px] bg-white rounded-[20px] border border-[#E6DFDB] p-[24px] m-x-auto">
          <div
            class="flex flex-col w-full">
            <h2
              class="text-[#56463D] text-[24px] mb-[8px]">Default address</h2>
            <h3
              class="text-[18px] mb-[4px]">{{ customer.default_address.name }}</h3>
            <h3
              class="text-[18px] mb-[8px] sm:mb-[0]">{{ customer.default_address.country }}</h3>
          </div>
          <div
            class="w-full flex sm:justify-end sm:items-start">
            <button
              class="edit_address_button underline">Edit</button>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <h2>You currently have no saved addresses</h2>
    {% endif %}
    ADD NEW ADDRESS
    {% form 'customer_address', customer.new_address %}
      <!-- form content -->
    {% endform %}
    {% comment %}
    DELETE ADDRESS
    <form class="address-delete-form"
    method="post"
    action="/account/addresses/{{ address.id }}"
    >
    <input type="hidden" name="_method" value="delete">
    <button type="submit">{{ 'customer.addresses.delete' | t }}</button>
    </form>
    {% endcomment %}
  </div>



  <div
    class="flex flex-col relative">
    <h2>Wishlist</h2>
    {% assign wishlist_array = customer.metafields.custom.wishlist | split: "," %}
    <div
      class="flex flex-wrap gap-y-[32px] gap-x-[16px]">
      {% for wishlist_item in wishlist_array %}
        {% if wishlist_item != "null" %}
          {% assign product = all_products[wishlist_item] %}
          {% include 'product_card_wishlist' with product %}
        {% else %}
          Your wishlist is empty, start shopping now!
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
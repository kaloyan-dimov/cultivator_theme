<div class="flex flex-col lg:flex-row lg:mx-[auto] lg:px[64px] lg:max-w-[1440px] lg:gap-[16px]">
  <div class="w-full lg:w-1/2">
    {% if product.media.size > 1 %}
      <div class="swiper single_product_swiper w-full  mb-[24px] sticky">
        <div class="swiper-wrapper lg:pl-[111px]">
          {% for image in product.media %}
            <div class="swiper-slide">
              <img
                class="w-full h-full object-cover"
                src="{{ image | img_url: 'master'}}"
                alt="">
              <div class="swiper_thumb hidden">
                <img
                  class="w-full h-full object-cover"
                  src="{{ image | img_url}}"
                  alt=""></div>
            </div>
          {% endfor %}
        </div>
        <div class="swiper-pagination hidden lg:flex"></div>
        <div class="swiper-button-prev lg:hidden"></div>
        <div class="swiper-button-next lg:hidden"></div>
      </div>
    {% else %}
      <div class="w-full h-[360px]">
        <img
          class="w-full h-full object-cover"
          src="{{ product.featured_image | img_url: 'master'}}"
          alt="">
      </div>
    {% endif %}
  </div>
  <div class="w-full lg:w-1/2">
    <div class="flex flex-col gap-2">
      <div class="flex justify-between">
        <div class="review_only_stars"></div>
        {% assign wishlist_array = customer.metafields.custom.wishlist | split: "," %}
        <div
          class="w-[40px] h-[40px] border border-[#CCAC71] heart_gold add_to_wishlist
          {% for wishlist_item in wishlist_array %}
            {% assign current_product = all_products[wishlist_item] %}
            {% if current_product.handle == product.handle %}bg-[#CCAC71]
            {% else %}
              no-match{% endif %}
          {% endfor %}"
          data-handle="{{ product.handle }}"></div>
      </div>
      <h2 class="text-[18px]">{{ product.title }}</h2>
      <h3 class="text-[14px]">{{ product.metafields.custom.product_short_description | metafield_tag }}</h3>

      {% if product.has_only_default_variant %}
        {% else %}
          <div class="flex flex-col gap-[11px] justify-between">
            {% for variant in product.variants %}
              <h4
                data-id="{{ variant.id }}"
                data-price="{{ variant.price | money_without_trailing_zeros }}"
                class="
                add_option flex flex-grow h-[34px] border border-[#E6DFDB] justify-center items-center rounded-[12px] cursor-pointer
                {% if forloop.index == 1 %}
                  active
                {% endif %}">
                {{ variant.option1 }} - {{ variant.price | money }}</h4>
            {% endfor %}
            <div class="test_add"></div>
            <h4 class="option_price mt-2 mx-auto text-[18px]">{{ product.first_available_variant.price | money_without_trailing_zeros }}</h4>
          </div>
      {% endif %}
      <h3>{{ product.selected_or_first_available_variant.price | money_without_trailing_zeros }}</h3>
      <h3 class="text-[14px] text-center">Product Price: {{ product.price | money_without_trailing_zeros }} |
        <span class="line-through">{{ product.compare_at_price | money_without_trailing_zeros }}
        </span>
        |
        {% assign offer_price = product.price %}
        {% assign max_price = product.compare_at_price | times: 1.0 %}
        {% assign discount = offer_price | divided_by: max_price %}
        {{ discount | times: 100 | minus: 100 | round: 2 }} %
      </h3>
      <div class="review_only_stars"></div>
    </div>

    <form
      class="flex gap-2 text-[#CCAC71]"
      method="post"
      action="/cart/add">
      <input
        type="hidden"
        name="id"
        value="{{ product.selected_or_first_available_variant.id }}" />
      <div class="w-[146px] h-[56px] border border-[#CCAC71] px-[16px] flex justify-between items-center rounded-[12px]">
        <div id="input_minus" class=" w-[32px] h-[32px] flex justify-center items-center">-</div>
        <input
          class="bg-transparent w-[50px] text-center"
          min="1"
          type="number"
          id="quantity"
          name="quantity"
          value="1" />
        <div id="input_plus" class=" w-[32px] h-[32px] flex justify-center items-center">+</div>
      </div>
      <input
        type="submit"
        value="ADD TO CART"
        class="flex justify-center items-center w-full max-w-[204px] text-center bg-[#CCAC71] rounded-[12px] text-white btn" />
    </form>

    <ul class="w-full flex flex-col">
      <li class="border-t border-[#E6DFDB]">
        <div class="list_item flex flex-col px-[16px]">
          <div class="list_title h-[64px] flex justify-between items-center">
            <h2 class="text-[16px]">Description</h2>
            <div class="list_arrow h-[32px] w-[32px]"></div>
          </div>
          <div class="list_content pb-[16px]">{{ product.description }}</div>
        </li>
      </li>
      <li class="border-t border-[#E6DFDB]">
        <div class="list_item flex flex-col  px-[16px]">
          <div class="list_title h-[64px] flex justify-between items-center">
            <h2 class="text-[16px]">Clinical Safe Product</h2>
            <div class="list_arrow h-[32px] w-[32px]"></div>
          </div>
          <div class="list_content pb-[16px]">Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi molestiae architecto tempore aperiam, officiis accusantium magni consequuntur, ipsum sed necessitatibus impedit sit velit tenetur eius praesentium voluptatum distinctio numquam asperiores temporibus. Ipsa qui eos tenetur. Voluptas repudiandae vitae facilis est unde? Commodi a recusandae aut? In tenetur perferendis tempora officiis.</div>
        </div>
      </li>
      <li class="border-t border-[#E6DFDB]">
        <div class="list_item flex flex-col px-[16px]">
          <div class="list_title h-[64px] flex justify-between items-center">
            <h2 class="text-[16px]">Ingridients</h2>
            <div class="list_arrow h-[32px] w-[32px]"></div>
          </div>
          <div class="list_content pb-[16px]">Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi molestiae architecto tempore aperiam, officiis accusantium magni consequuntur, ipsum sed necessitatibus impedit sit velit tenetur eius praesentium voluptatum distinctio numquam asperiores temporibus. Ipsa qui eos tenetur. Voluptas repudiandae vitae facilis est unde? Commodi a recusandae aut? In tenetur perferendis tempora officiis.</div>
        </div>
      </li>
      <li class="border-t border-[#E6DFDB]">
        <div class="list_item flex flex-col px-[16px]">
          <div class="list_title h-[64px] flex justify-between items-center">
            <h2 class="text-[16px]">FAQ</h2>
            <div class="list_arrow h-[32px] w-[32px]"></div>
          </div>
          <div class="list_content pb-[16px]">Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi molestiae architecto tempore aperiam, officiis accusantium magni consequuntur, ipsum sed necessitatibus impedit sit velit tenetur eius praesentium voluptatum distinctio numquam asperiores temporibus. Ipsa qui eos tenetur. Voluptas repudiandae vitae facilis est unde? Commodi a recusandae aut? In tenetur perferendis tempora officiis.</div>
        </div>
      </li>
      <li class="border-t border-[#E6DFDB]">
        <div class="list_item flex flex-col px-[16px]">
          <div class="list_title h-[64px] flex justify-between items-center">
            <h2 class="text-[16px]">Certification</h2>
            <div class="list_arrow h-[32px] w-[32px]"></div>
          </div>
          <div class="list_content pb-[16px]">Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi molestiae architecto tempore aperiam, officiis accusantium magni consequuntur, ipsum sed necessitatibus impedit sit velit tenetur eius praesentium voluptatum distinctio numquam asperiores temporibus. Ipsa qui eos tenetur. Voluptas repudiandae vitae facilis est unde? Commodi a recusandae aut? In tenetur perferendis tempora officiis.</div>
        </div>
      </li>
    </ul>
  </div>
</div>

{% comment %}

<h2 class="text-[14px] text-center">Product Price: {{ product.price | money_without_trailing_zeros }} |
<span class="line-through">{{ product.compare_at_price | money_without_trailing_zeros }}
</span>
|
{% assign offer_price = product.price %}
{% assign max_price = product.compare_at_price | times: 1.0 %}
{% assign discount = offer_price | divided_by: max_price %}
{{ discount | times: 100 | minus: 100 | round: 2 }} %
</h2>

{% render "product_recommendations" %}

Product Metafields:
{{ product.metafields.custom.product_ingridients_metafield }}
{% for field in product.metafields.custom.product_ingridients_metafield.value %}
<!-- forloop{{ field | json }} -->
{% endfor %}
{% endcomment %}
<div class="section flex flex-col">
  <div class="flex justify-between">
    <h1 class="text-[36px]">Hi {{ customer.first_name }}</h1>
    <a href="/account/logout/" class="logout text-[16px]">Logout</a>
  </div>
  <ul class="account_navigation">
    <li>
      <div
        class="icon icon_account"></div>
      <h3>ACCOUNT</h3>
    </li>
    <li>
      <div class="icon icon_orders"></div>
      <h3>ORDERS</h3>
    </li>
    <li>
      <div class="icon icon_addresses"></div>
      <h3>ADDRESSES</h3>
    </li>
    <li>
      <div class="icon icon_wishlist"></div>
      <h3>WISHLIST</h3>
    </li>
  </ul>
  <div>
    <h2>Account</h2>
    <div class="bg-white rounded-[20px] flex flex-col p-6 border border-[#E6DFDB] m-auto max-w-[868px]">
      <h2>{{ customer.first_name }} {{ customer.last_name }}</h2>
      <h2>{{ customer.email }}</h2>
      <h2>Password length</h2>
      <h2 class="recover_password_trigger">Reset password</h2>
      {% render "recover_password_form" %}
    </div>
  </div>
  <div
    class="flex flex-col bg-white md:bg-red-300">
    <h2>Orders</h2>
    {% paginate customer.orders by 10 %}
      {% for order in customer.orders %}
        Order Listed:
        <h2>Order: (Number) {{ order.order_number }}</h2>
        <h2>Created At: {{ order.created_at }}</h2>
        {% if order.cancelled %}
          <h2>Fulfillment Status: Cancelled</h2>
        {% else %}
          <h2>Fulfillment Status (Order cancelled?): {{ order.fulfillment_status_label }}</h2>
        {% endif %}
        <h2>Order (financial status): {{ order.financial_status_label }}</h2>
        <h2>Total: {{ order.line_items_subtotal_price }}</h2>
      {% endfor %}
      {{ paginate | default_pagination }}
    {% endpaginate %}
  </div>
  <div
    class="flex flex-col">
    <h2>Addresses</h2>
    {{ customer.addresses_count }}
    {% if customer.addresses_count > 0 %}
      {% if customer.default_address %}
        <p>{{ customer.default_address.address1 }}</p>

        {% if customer.default_address.address2 != blank %}
          <p>{{ customer.default_address.address2 }}</p>
        {% endif %}

        <p>{{ customer.default_address.city }}
          {% if customer.default_address.province_code %}
            {{ customer.default_address.province_code }}{% endif %}, {{ customer.default_address.country_code }}</p>
        <p>{{ customer.default_address.zip_code }}</p>
        <p>{{ customer.default_address.phone }}</p>
      {% endif %}
    {% else %}
      <h2>You currently have no saved addresses</h2>
    {% endif %}
  </div>
  <div class="flex flex-col">
    <h2>Wishlist</h2>
    {% assign wishlist_array = customer.metafields.custom.wishlist | split: "," %}
    {% for wishlist_item in wishlist_array %}
      {% if wishlist_item != "null" %}
        {% assign current_product = all_products[wishlist_item] %}
        {{ current_product.title }}
        <div class="w-[284px] h[200px]">
          <img
            src="{{ current_product.featured_image | img_url }}"
            alt=""
            srcset="">
        </div>
        <div class="remove_from_wishlist p-[40px] border border-red-500" data-handle="{{ current_product.handle }}">Remove</div>
      {% else %}
        Your wishlist is empty, start shopping now!
      {% endif %}
    {% endfor %}
  </div>
</div>